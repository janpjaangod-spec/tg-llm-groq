# ðŸš€ Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐµ Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÑƒ

## Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### 1. ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

```bash
# ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ
git clone https://github.com/janpjaangod-spec/tg-llm-groq.git
cd tg-llm-groq

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# Ð¸Ð»Ð¸
venv\Scripts\activate     # Windows

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
pip install -r requirements.txt
```

### 2. ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ API ÐºÐ»ÑŽÑ‡ÐµÐ¹

#### Telegram Bot Token:
1. ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ @BotFather Ð² Telegram
2. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ `/newbot`
3. Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð¸Ð¼Ñ Ð¸ username Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð°
4. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½

#### Groq API Key:
1. Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° [console.groq.com](https://console.groq.com/)
2. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ API ÐºÐ»ÑŽÑ‡ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ "API Keys"
3. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ÐºÐ»ÑŽÑ‡ (Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·!)

### 3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸

```bash
# ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
cp .env.example .env

# Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº
nano .env  # Ð¸Ð»Ð¸ Ð»ÑŽÐ±Ð¾Ð¹ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€
```

**ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:**
```bash
TELEGRAM_BOT_TOKEN=1234567890:ABCDEF...
GROQ_API_KEY=gsk_...
ADMIN_IDS=123456789  # Ð’Ð°Ñˆ Telegram ID
```

### 4. Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°

```bash
python -m bot_groq
```

ÐŸÑ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐµ ÑÐ¾Ð·Ð´Ð°ÑÑ‚ÑÑ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… `bot.db` Ñ Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ð¼Ð¸.

## Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

### ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ID Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ

Ð”Ð»Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð² Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð½Ð°Ñ‚ÑŒ Telegram ID:

1. **Ð§ÐµÑ€ÐµÐ· @userinfobot**: Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ñƒ `/start`
2. **Ð§ÐµÑ€ÐµÐ· Ð»Ð¾Ð³Ð¸**: Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð° Ð¸ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ
3. **Ð§ÐµÑ€ÐµÐ· ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ**: Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð² ÐºÐ¾Ð´ print ID

```python
# Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð² chat() Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ
print(f"User ID: {m.from_user.id}, Chat ID: {m.chat.id}")
```

### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹

#### Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸:
- **Ð”Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ**: `llama-3.1-8b-instant` (Ð±Ñ‹ÑÑ‚Ñ€Ð¾, Ð´ÐµÑˆÐµÐ²Ð¾)
- **Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°**: `llama-3.1-70b-versatile` (ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾, Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ)
- **Ð”Ð»Ñ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¾Ð²**: `mixtral-8x7b-32768` (Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚)

#### Vision Ð¼Ð¾Ð´ÐµÐ»Ð¸:
- `meta-llama/llama-4-scout-17b-16e-instruct` (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ)
- `meta-llama/llama-4-maverick-17b-128e-instruct` (Ñ€ÐµÐ·ÐµÑ€Ð²)

### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ

#### Ð£Ñ€Ð¾Ð²Ð½Ð¸ Ñ‚Ð¾ÐºÑÐ¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸:
- **0**: ÐŸÐ¾Ñ‡Ñ‚Ð¸ Ð½ÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ñ‹Ð¹, Ñ€ÐµÐ´ÐºÐ¸Ð¹ ÑÐ°Ñ€ÐºÐ°Ð·Ð¼
- **1**: Ð›ÐµÐ³ÐºÐ¸Ð¹ ÑÐ°Ñ€ÐºÐ°Ð·Ð¼, Ð¿Ð¾Ð´Ñ‚Ñ€ÑƒÐ½Ð¸Ð²Ð°Ð½Ð¸Ðµ
- **2**: Ð¡Ñ€ÐµÐ´Ð½ÑÑ Ñ‚Ð¾ÐºÑÐ¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ, ÐºÐ¾Ð»ÐºÐ¾ÑÑ‚Ð¸
- **3**: ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‚Ð¾ÐºÑÐ¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ, Ð¶ÐµÑÑ‚ÐºÐ¸Ð¹ Ñ‚Ñ€Ð¾Ð»Ð»Ð¸Ð½Ð³

#### ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ:
```bash
# ÐšÐ¾Ð½ÑÐµÑ€Ð²Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
AUTO_CHIME_PROB=0.005        # 0.5% Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ
AUTO_CHIME_COOLDOWN=1800     # 30 Ð¼Ð¸Ð½ÑƒÑ‚ Ð¼ÐµÐ¶Ð´Ñƒ Ð²Ð±Ñ€Ð¾ÑÐ°Ð¼Ð¸

# ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸  
AUTO_CHIME_PROB=0.02         # 2% Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ
AUTO_CHIME_COOLDOWN=600      # 10 Ð¼Ð¸Ð½ÑƒÑ‚ Ð¼ÐµÐ¶Ð´Ñƒ Ð²Ð±Ñ€Ð¾ÑÐ°Ð¼Ð¸

# Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
AUTO_CHIME_PROB=0.1          # 10% Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ
AUTO_CHIME_COOLDOWN=60       # 1 Ð¼Ð¸Ð½ÑƒÑ‚Ð° Ð¼ÐµÐ¶Ð´Ñƒ Ð²Ð±Ñ€Ð¾ÑÐ°Ð¼Ð¸
```

## Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ

### Docker (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Dockerfile
cat > Dockerfile << 'EOF'
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .
RUN useradd -m botuser && chown -R botuser:botuser /app
USER botuser

CMD ["python", "-m", "bot_groq"]
EOF

# Ð¡Ð±Ð¾Ñ€ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº
docker build -t toxik-bot .
docker run -d --name toxik-bot --env-file .env toxik-bot
```

### Docker Compose

```yaml
# docker-compose.yml
version: '3.8'
services:
  bot:
    build: .
    env_file: .env
    volumes:
      - ./data:/app/data
    restart: unless-stopped
    depends_on:
      - redis
      
  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data
    restart: unless-stopped

volumes:
  redis_data:
```

### Systemd Service (Linux)

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐµÑ€Ð²Ð¸ÑÐ°
sudo tee /etc/systemd/system/toxik-bot.service << EOF
[Unit]
Description=Toxik Telegram Bot
After=network.target

[Service]
Type=simple
User=toxik
WorkingDirectory=/opt/toxik-bot
Environment=PATH=/opt/toxik-bot/venv/bin
ExecStart=/opt/toxik-bot/venv/bin/python -m bot_groq
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF

# Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²Ð¸ÑÐ°
sudo systemctl daemon-reload
sudo systemctl enable toxik-bot
sudo systemctl start toxik-bot

# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
sudo journalctl -u toxik-bot -f
```

## ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ°

### ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²

```bash
# Ð’ Docker
docker logs -f toxik-bot

# Systemd
sudo journalctl -u toxik-bot -f

# ÐÐ°Ð¿Ñ€ÑÐ¼ÑƒÑŽ
python bot_groq.py
```

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ

#### "TELEGRAM_BOT_TOKEN is not set"
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» `.env`
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ð¾ Ñ‚Ð¾ÐºÐµÐ½ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ñ„Ð°Ð¹Ð»Ñƒ

#### "GROQ_API_KEY is not set"  
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ API ÐºÐ»ÑŽÑ‡ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Groq
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ð¾ ÐºÐ²Ð¾Ñ‚Ð° Ð½Ðµ Ð¸ÑÑ‡ÐµÑ€Ð¿Ð°Ð½Ð°
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ÐºÐ»ÑŽÑ‡Ð° (Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒÑÑ Ñ `gsk_`)

#### Ð‘Ð¾Ñ‚ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ðµ
- Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð° ÐºÐ°Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ `NAME_KEYWORDS`
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ð¾ Ð±Ð¾Ñ‚ Ð¼Ð¾Ð¶ÐµÑ‚ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ

#### Ð’Ñ‹ÑÐ¾ÐºÐ¾Ðµ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ðµ API
- Ð£Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ‚ÑŒ `AUTO_CHIME_PROB`
- Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ `AUTO_CHIME_COOLDOWN`
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÐµÐµ Ð´ÐµÑˆÐµÐ²ÑƒÑŽ Ð¼Ð¾Ð´ÐµÐ»ÑŒ

#### Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð°
```bash
# ÐŸÐ¾Ð¸ÑÐº Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ð‘Ð”
lsof bot.db

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°
sudo systemctl restart toxik-bot
```

### ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ð‘Ð”
du -h bot.db

# Ð‘ÑÐºÐ°Ð¿ Ð‘Ð”
cp bot.db bot.db.backup.$(date +%Y%m%d)

# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð‘Ð”
sqlite3 bot.db ".schema"

# Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
sqlite3 bot.db "SELECT COUNT(*) FROM chat_history"

# ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸
sqlite3 bot.db "SELECT COUNT(DISTINCT user_id) FROM person_profile"
```

## ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð±Ð¾Ñ‚Ð°

### Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ
```bash
# ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð±Ð¾Ñ‚Ð°
sudo systemctl stop toxik-bot  # Ð¸Ð»Ð¸ docker stop toxik-bot

# Ð‘ÑÐºÐ°Ð¿ Ð´Ð°Ð½Ð½Ñ‹Ñ…
cp bot.db bot.db.backup.$(date +%Y%m%d)

# ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð´Ð°
git pull origin main
pip install -r requirements.txt

# Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°
sudo systemctl start toxik-bot  # Ð¸Ð»Ð¸ docker start toxik-bot
```

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑÐ¼Ð¸
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²ÐµÑ€ÑÐ¸Ð¸ Ð‘Ð”
sqlite3 bot.db "SELECT * FROM settings LIMIT 1"

# Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹ (ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ)
python migrate.py

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº
sudo systemctl restart toxik-bot
```

## Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

### Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸:
- ðŸ”’ ÐÐµ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ `.env` Ð² git
- ðŸ”‘ Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ Ð¼ÐµÐ½ÑÐ¹Ñ‚Ðµ API ÐºÐ»ÑŽÑ‡Ð¸
- ðŸ‘¥ ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÑŒÑ‚Ðµ ÑÐ¿Ð¸ÑÐ¾Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð²
- ðŸ“Š ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€ÑŒÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ API
- ðŸ›¡ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ„Ð°Ð¹ÐµÑ€Ð²Ð¾Ð»Ð» Ð´Ð»Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°
- ðŸ’¾ Ð”ÐµÐ»Ð°Ð¹Ñ‚Ðµ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð±ÑÐºÐ°Ð¿Ñ‹ Ð‘Ð”

### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ„Ð°Ð¹ÐµÑ€Ð²Ð¾Ð»Ð»Ð° (UFW):
```bash
# Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¸ÑÑ…Ð¾Ð´ÑÑ‰Ð¸Ðµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ
sudo ufw default deny incoming
sudo ufw default allow outgoing

# SSH Ð´Ð»Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
sudo ufw allow ssh

# Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹ÐµÑ€Ð²Ð¾Ð»Ð»
sudo ufw enable
```

## ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

ÐŸÑ€Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ½Ð¾Ð²ÐµÐ½Ð¸Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼:

1. ðŸ“– ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð±Ð¾Ñ‚Ð°
2. ðŸ” ÐŸÐ¾Ð¸Ñ‰Ð¸Ñ‚Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð² Issues Ð½Ð° GitHub
3. ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Issue Ñ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¼ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼
4. ðŸ’¬ Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð² Issue Ñ€ÐµÐ»ÐµÐ²Ð°Ð½Ñ‚Ð½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸ (Ð±ÐµÐ· ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…!)

### Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð´Ð»Ñ Ð±Ð°Ð³-Ñ€ÐµÐ¿Ð¾Ñ€Ñ‚Ð°:
```bash
# Ð’ÐµÑ€ÑÐ¸Ñ Python
python --version

# Ð’ÐµÑ€ÑÐ¸Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
pip freeze

# Ð›Ð¾Ð³Ð¸ (Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 50 ÑÑ‚Ñ€Ð¾Ðº)
tail -50 /var/log/toxik-bot.log

# Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ
uname -a
```