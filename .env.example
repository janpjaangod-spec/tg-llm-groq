# =================================
# TELEGRAM BOT "ЛЕХА" - КОНФИГУРАЦИЯ
# =================================

# ========= ОБЯЗАТЕЛЬНЫЕ НАСТРОЙКИ =========
# Токен Telegram бота (получить у @BotFather)
BOT_TOKEN=your_telegram_bot_token_here
# Или альтернативное имя (для совместимости):
# TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# API ключ Groq (получить на console.groq.com)
GROQ_API_KEY=your_groq_api_key_here

# Токен администратора (минимум 32 символа)
ADMIN_TOKEN=your_secure_admin_token_32_chars_minimum

# ========= МОДЕЛИ =========
# Основная модель для текста (рекомендуется llama-3.1-70b-versatile для лучшего качества)
GROQ_MODEL=llama-3.1-8b-instant

# Модель для анализа изображений
GROQ_VISION_MODEL=meta-llama/llama-4-scout-17b-16e-instruct

# ========= ПОВЕДЕНИЕ БОТА =========
# Ключевые слова для активации в группах (через запятую)
NAME_KEYWORDS=леха,лёха,леша,лёша,лех,лешка

# Вероятность случайного токсичного вброса (0.0 - никогда, 1.0 - всегда)
AUTO_CHIME_PROB=0.02

# Пауза между случайными вбросами (секунды)
AUTO_CHIME_COOLDOWN=600

# Уровень токсичности (0 - мягкий, 3 - максимальный)
SPICE_LEVEL=3

# ========= АДМИНИСТРИРОВАНИЕ =========
# ID администраторов через запятую (получить через @userinfobot)
ADMIN_IDS=123456789,987654321

# Автоматическое запоминание фактов от админов (1 - включено, 0 - выключено)
AUTO_MEMO=1

# ========= ВРЕМЕННЫЕ НАСТРОЙКИ =========
# Минуты тишины перед активацией "будильника тишины"
IDLE_CHIME_MINUTES=45

# Пауза между активациями "будильника тишины" (секунды)
IDLE_CHIME_COOLDOWN=600

# Интервал проверки активности (секунды)
IDLE_CHECK_EVERY=600

# Максимум сообщений в контексте для "будильника тишины"
IDLE_MAX_CONTEXT=30

# Время забывания темы разговора (минуты)
TOPIC_DECAY_MINUTES=45

# ========= ТИХИЕ ЧАСЫ =========
# Час начала тихих часов (24-часовой формат)
QUIET_HOURS_START=1

# Час окончания тихих часов (24-часовой формат)
QUIET_HOURS_END=8

# ========= ПАМЯТЬ И ИСТОРИЯ =========
# Количество обменов в истории диалога
HISTORY_TURNS=20

# Минимум сообщений для пересчета стиля чата
STYLE_RETRAIN_MIN_MESSAGES=80

# Время жизни кэша стиля (минуты)
STYLE_CACHE_TTL_MIN=180

# ========= ЕЖЕДНЕВНАЯ АКТИВНОСТЬ =========
# Включить ежедневные упоминания (1 - да, 0 - нет)
DAILY_MENTION_ENABLED=1

# Час для ежедневного упоминания (24-часовой формат)
DAILY_MENTION_HOUR=12

# ========= СИСТЕМНЫЙ ПРОМПТ =========
# Базовый системный промпт (можно оставить пустым для использования встроенного)
DEFAULT_SYSTEM_PROMPT=

# ========= ПРИМЕРЫ ЗНАЧЕНИЙ =========
# Для тестирования:
# AUTO_CHIME_PROB=0.1          # Более частые вбросы
# SPICE_LEVEL=1                # Мягкий режим
# ========= НОВЫЕ НАСТРОЙКИ ENTERPRISE ВЕРСИИ =========

# Основные настройки среды
ENVIRONMENT=production
LOG_LEVEL=INFO
PYTHONPATH=/app

# База данных
DATABASE_URL=sqlite:///data/bot.db

# Groq API расширенные настройки
GROQ_MODEL=llama-3.1-8b-instant
GROQ_MAX_TOKENS=1000
GROQ_TEMPERATURE=0.7
GROQ_TOP_P=0.9
GROQ_STREAM=false

# Безопасность и лимиты
RATE_LIMIT_MESSAGES_PER_MINUTE=20
RATE_LIMIT_COMMANDS_PER_HOUR=100
BAN_THRESHOLD_VIOLATIONS=5
ENABLE_TOXICITY_FILTER=true
TOXICITY_THRESHOLD=0.7
MAX_MESSAGE_LENGTH=4000

# Кеширование и производительность
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
ENABLE_MEMORY_CACHE=true
WORKER_THREADS=2
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT=30

# Веб-интерфейс администратора
ENABLE_WEB_INTERFACE=false
WEB_HOST=0.0.0.0
WEB_PORT=8000
ALLOWED_ORIGINS=*
CORS_CREDENTIALS=true

# Аналитика и мониторинг  
ENABLE_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=90
ENABLE_USER_PROFILING=true
STRUCTURED_LOGGING=true
LOG_FORMAT=json

# Планировщик задач
SCHEDULER_TIMEZONE=Europe/Moscow
CLEANUP_INTERVAL_HOURS=24
AUTO_CLEANUP_DAYS=30
BACKUP_INTERVAL_HOURS=168

# Дополнительные функции
DEFAULT_CHAT_MODE=normal
ENABLE_GROUP_COMMANDS=true
ENABLE_PRIVATE_COMMANDS=true
ENABLE_MEDIA_PROCESSING=true
AUTO_DELETE_COMMANDS=false

# Специальные настройки для Koyeb
MAX_CONTEXT_LENGTH=3000      # Оптимизировано для лимитов памяти
ENABLE_SCHEDULED_REPORTS=false
ENABLE_DOCUMENT_ANALYSIS=false
ENABLE_VOICE_PROCESSING=false

# Включить отладочные логи (1 - да, 0 - нет)
# DEBUG=0